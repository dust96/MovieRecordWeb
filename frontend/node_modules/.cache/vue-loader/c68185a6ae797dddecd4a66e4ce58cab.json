{"remainingRequest":"/Users/yejin/Desktop/MovieRecordWeb/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yejin/Desktop/MovieRecordWeb/frontend/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yejin/Desktop/MovieRecordWeb/frontend/src/components/Login.vue","mtime":1648566281538},{"path":"/Users/yejin/Desktop/MovieRecordWeb/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1647874695893},{"path":"/Users/yejin/Desktop/MovieRecordWeb/frontend/node_modules/babel-loader/lib/index.js","mtime":1647874695623},{"path":"/Users/yejin/Desktop/MovieRecordWeb/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1647874695893},{"path":"/Users/yejin/Desktop/MovieRecordWeb/frontend/node_modules/vue-loader/lib/index.js","mtime":1647874697774}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6JycsCiAgICAgIHBhc3N3b3JkOicnIAogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBvblN1Ym1pdChlKXsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkOwogICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKICAgICAgICB0aGlzLiRodHRwCiAgICAgICAgICAucG9zdCgiL2FwaS9sb2dpbiIKICAgICAgICAgICAgLHtpZCxwYXNzd29yZH0KICAgICAgICAgICAgLHsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24tanNvbiJ9KQogICAgICAgICAgLnRoZW4oCiAgICAgICAgICAgIChyZXMpID0+ewogICAgICAgICAgICAgIAogICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnVzZXIpewoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicscmVzLmRhdGEudXNlcik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonbWFpbid9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZihyZXMuZGF0YS5tZXNzYWdlKXsKICAgICAgICAgICAgICAgIGFsZXJ0KHJlcy5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAoZXJyKSA9PnsKICAgICAgICAgICAgICBhbGVydChlcnIrImxvZ2luIGZhaWxlZCIpCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC5jYXRjaCgoZXJyKT0+ewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycikKICAgICAgICAgIH0pOwogICAgICAgIAoKICAgIH0sCiAgfQogIAp9CiAK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n  <div>\n    <b-form @submit=\"onSubmit\">\n      <b-form-group\n        id=\"input-group-1\"\n        label=\"ID\"\n        label-for=\"input-1\"\n      >\n        <b-form-input\n          id=\"input-1\"\n          v-model=\"id\"\n          type=\"text\"\n          placeholder=\"ID\"\n          required\n        ></b-form-input>\n      </b-form-group>\n\n      <b-form-group id=\"input-group-2\" label=\"PASSWORD\" label-for=\"input-2\">\n        <b-form-input\n          id=\"input-2\"\n          v-model=\"password\"\n          placeholder=\"PASSWORD\"\n          required\n        ></b-form-input>\n      </b-form-group>\n\n      <b-button type=\"submit\" variant=\"primary\">Login</b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\n \n  export default {\n    name: 'Login',\n    data() {\n      return {\n        id:'',\n        password:'' \n      }\n    },\n    methods:{\n      onSubmit(e){\n          e.preventDefault();\n          const id = this.id;\n          const password = this.password;\n          this.$http\n            .post(\"/api/login\"\n              ,{id,password}\n              ,{\"Content-Type\":\"application-json\"})\n            .then(\n              (res) =>{\n                \n                if(res.data.user){\n\n                  this.$store.commit('setUser',res.data.user);\n                  this.$router.push({path:'main'});\n                }\n                else if(res.data.message){\n                  alert(res.data.message)\n                }\n              },\n              (err) =>{\n                alert(err+\"login failed\")\n              }\n            )\n            .catch((err)=>{\n              console.error(err)\n            });\n          \n\n      },\n    }\n    \n  }\n   \n</script>"]}]}